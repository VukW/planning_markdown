{% extends "bootstrap/base.html" %}
{% block title %}
    Marking image {{image_id}}
{% endblock %}

{% block styles %}
    {{ super() }}
    <link rel="stylesheet" href="{{url_for('.static', filename='style.css')}}">
{% endblock %}

{% block content %}
    <div class="row">
		<div class="col-md-2">
			<div class="panel panel-default">
				<div class="panel-heading">
					<h3 class="panel-title">Select an element to mark down</h3>
				</div>
				<div>
					<center>
                        <div class="btn-group-vertical">
							{#
                            {% for button in buttons %}
                                <button type="button" class="btn btn-default" id="{{ button.id }}">
									{{ button.name }}
								</button>
                            {% endfor %}
							#}
                            <p><button type="button" class="btn btn-default" id="point">Point</button></p>
                            <p>
                                <button type="button" class="btn btn-default" data-toggle="collapse" data-target="#segment-opts" id="segment">
                                    Segment
                                </button>
                            </p>
                            <!--
                            <div id="segment-opts" class="collapse">
                                <div class="checkbox">
                                    <label><input type="checkbox" value="">Along the axes</label>
                                </div>
                            </div>
                            -->
                            <p><button type="button" class="btn btn-default" id="region">Region</button></p>
                        </div>
					</center>
				</div>
			</div>
		</div>
		<div class="col-md-8">
			<canvas id="image-editor" width="800" height="600">
				Your browser does not support the HTML5 canvas tag.
			</canvas>
		</div>
  		<div class="col-md-2">
  			<div class="panel panel-success">
  				<div class="panel-heading">
  					Elements you've marked down
  				</div>
  				<div>
  					<ul class="list-group">
                        {#
                        {% for item in group_items %}
                            show list of items of certain category determined by a clicked button
                        {% endblock %}
                        #}
  						<li class="list-group-item">Point #2</li>
  						<li class="list-group-item">Segment #2</li>
  						<li class="list-group-item">Region #1</li>
  						<li class="list-group-item">Segment #1</li>
  						<li class="list-group-item">Point #1</li>
  					</ul>
                    <a href="{{url_for('main', image_id = image_id_next)}}" role="button" class="btn btn-success" id="next">
                        <span class="glyphicon glyphicon-ok"></span><strong> Next</strong>
                    </a>
  				</div>
  			</div>
  		</div>
	</div>

	{% block scripts %}
        {{ super() }}
        <script src="{{url_for('.static', filename='engine.js')}}"></script>
        <script>
            var imageObj = new Image();
            imageObj.onload = function () {
                context.drawImage(imageObj, 0, 0, canvas.width, canvas.height);
            };
            imageObj.src = '{{url_for('get_image', image_id=image_id)}}';
        </script>
	{% endblock %}

    Next image URL: {{url_for('main', image_id = image_id_next)}}
{% endblock %}